<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Selecione seu Mundo!</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
        width: 100%;
        background: #1b1b1b;
      }

      .galeryLink {
        width: 33.3%;
        position: relative;
        height: auto; /* ou um valor fixo, se precisar */
        overflow: hidden;
        transition: width 0.3s ease;
      }
      .img {
        position: absolute;
        width: 101%;
        height: 101%;
        left: 50%;
        transform: translateX(-50%);
        background-color: black;
        z-index: 2;
        opacity: 0;
        transition: opacity 0.3s ease;
        font-family: "Roboto", sans-serif;
      }
      .img div {
        width: 300px;
        margin: auto;
        color: white;
        text-align: center;
        position: relative;
        top: 45%;
        transform: translateY(-50%);
      }
      .img h1 {
        user-select: none;
      }
      .galeryLink img {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
      }
      .galeryLink img[src="imgIco.ico"] {
        width: 40px;
        right: 0;
        z-index: 6;
        bottom: 15px;
        left: auto;
        top: auto;
        transition: opacity 1s ease;
        opacity: 0;
      }
      #galeria {
        width: 100%;
        height: 100%;
        background: #2e2c2c;
        display: flex;
      }
      #logo {
        z-index: 3;
        position: absolute;
        height: 125px;
        width: 100%;
        background: linear-gradient(to bottom, black, transparent);
      }
      #logo img {
        display: block;
        width: 250px;
        margin: 0 auto;
      }
      #logo a {
        display: block;
        width: 250px;
        margin: 0 auto;
        margin-top: 16px;
      }
      #rodape {
        z-index: 3;
        position: absolute;
        bottom: 0;
        height: 125px;
        width: 100%;
        background: linear-gradient(to top, black, transparent);
      }
      #rodape span {
        font-family: "Bellefair", serif;
        font-size: 33px;
        text-align: center;
        color: white;
        margin: 0 auto;
        margin-top: 37px;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
      }
      .expandable {
        display: flex; 
        justify-content: space-between;
        cursor: pointer;
        user-select: none;
      }
      .expandable h2 {
        position: relative;
        margin: 0
      }
      .expandable [src="setaBranca.ico"] {
        width: 15px; 
        height: 24px; 
        position: absolute
      }
      .expandText {
        display: none;
        text-align: left;
      }
      .botaoForm{
        text-decoration: none;
        margin-top: 55px;
        display: block;
        color: white;
        padding: 5px 10px;
        border: 2px solid white;
        user-select: none;
      }
      .botaoForm:hover{
        background-color: #2e2c2c;
      }

      .pulse {
        animation: pulse 3s ease-in-out infinite;
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 0.1;
        }
        50% {
          opacity: 1;
        }
      }

      @media only screen and (max-width: 768px) {
        #galeria {
          flex-direction: column;
          flex-wrap: nowrap;
        }
        .galeryLink {
          width: 100%;
          height: 33.3%;
          transition: height 0.3s ease;
        }
        .galeryLink img {
          left: 50%;
          top: 50%;
          width: 110%;
          transform: translate(-50%, -50%);
        }
        #logo {
          height: 86px;
          transition: all 1s ease;
        }
        #logo a {
          width: 150px;
        }
        #logo img {
          width: 150px;
          transition: all 0.5s ease;
        }
        #rodape span {
          width: 380px;
        }
        h2{
          font-size: 18px;
        }
        .expandText{
          font-size: 15px;
        }
        .galeryLink img[src="imgIco.ico"] {
          bottom: 0;
        }
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Bellefair&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="icon" href="logoS.png">
  </head>
  <body>
    <div id="logo">
      <a href="/"
        ><img src="logo.png" alt="logo" aria-label="logo dado mímico"
      /></a>
    </div>
    <div id="galeria">
      <div class="galeryLink">
        <img src="imgIco.ico"/>
        <div id="img0" class="img">
          <div>
            <h1>Crônicas do Início</h1>
            <span class="expandable" onclick="expandable('descricao','img0',0)">
              <h2>Descrição</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText descricao img0">
              A aventura começa no primeiro dia do surto, em um evento público. Os jogadores são pessoas comuns tentando entender o caos, tomar decisões rápidas e sobreviver. Ideal para criar laços fortes entre os personagens.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('sistema','img0',0)">
              <h2>Sistema</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText sistema img0">
              <b>Fate Acelerado (<span style="color:#089aee;">muito fácil</span>):</b> O fate padrão já é um sistema simples, o fate acelerado então... Fate Acelerado é um RPG leve e narrativo, onde os personagens são definidos por frases criativas e estilos de ação. Foca na improvisação, narrativa colaborativa e liberdade total para criar qualquer tipo de história.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('preco','img0',0)">
              <h2>Preços e Horários</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText preco img0">
              <b>Preços:</b> R$ 25,00 por sessão. <br>
              <b>Horários:</b> Sexta das 20h à 23h. <br>
              <b>Vagas:</b> 4/4. <br>
              <b>Sessões:</b> 4 sessões.
            </span>
            <a class="botaoForm preco" href="https://docs.google.com/forms/d/e/1FAIpQLSfDyf_8rcssjUUquhErEE_AMxh84ELfoOO3LNN2awk_YjkO7Q/viewform?usp=dialog">Quero Jogar!</a>
          </div>
        </div>
        <img src="img2.png" alt="historia zumbi" />
      </div>
      <div class="galeryLink">
        <img src="imgIco.ico"/>
        <div id="img1" class="img">
          <div>
            <h1>Agentes da Guardabeira</h1>
            <span class="expandable" onclick="expandable('descricao','img1',1)">
              <h2>Descrição</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText descricao img1">
              Agentes da Guardabeira se passa em Absalom durante o Festival Radiante, uma celebração centenária que ocorre ao longo do verão. A aventura acompanha um grupo de guardas novatos que, com o tempo, se tornam a última esperança da cidade.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('sistema','img1',1)">
              <h2>Sistema</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText sistema img1">
              <b>Pathfinder 2e (<span style="color:#ee4908;">moderado</span>):</b> Tá cansado de personagem clichê em RPG de fantasia medieval? Quer ver um sistema onde tu pode criar um personagem <b>único</b>? Pathfinder 2ª edição é um RPG de fantasia tática com regras refinadas, criação de personagens flexível e combates estratégicos. Ideal para quem curte profundidade, personalização e decisões significativas em jogo.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('preco','img1',1)">
              <h2>Preços e Horários</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText preco img1">
              <b>Preços:</b> R$ 30,00 por sessão. <br>
              <b>Horários:</b> Domingo das 20h à 23h. <br>
              <b>Vagas:</b> 4/4. <br>
              <b>Sessões:</b> 4 sessões.
            </span>
            <a class="botaoForm preco" href="https://docs.google.com/forms/d/e/1FAIpQLSfJ28tKkSNAoGer0JPy7MSp-nw39XyWhkWJP8MuBjTJ8aaOcA/viewform?usp=dialog">Quero Jogar!</a>
          </div>
        </div>
        <img src="img4.png" alt="historia futurista" />
      </div>
      <div class="galeryLink">
        <img src="imgIco.ico"/>
        <div id="img2" class="img">
          <div>
            <h1>sol.apk</h1>
            <span class="expandable" onclick="expandable('descricao','img2',2)">
              <h2>Descrição</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText descricao img2">
              Imagine um mundo onde o neon invade as sombras da noite e os vampiros sobrevivem entre dados e circuitos. Um vírus desconhecido começa a eliminar membros do clã através de qualquer tecnologia. Você faz parte de um grupo convocado para investigar... mas cuidado: nesse futuro sombrio, nem os mortos estão a salvo.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('sistema','img2',2)">
              <h2>Sistema</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText sistema img2">
              <b>Vampiro a Máscara 5ª Edição (<span style="color:#eeb808;">moderado leve</span>):</b> Vampiro: A Máscara 5ª Edição é um RPG de horror pessoal e intriga sobrenatural, onde você interpreta um vampiro dividido entre a sede de sangue e o que resta da sua humanidade, em um mundo sombrio cheio de política e segredos.
            </span>
            <span class="expandable" style="margin-top: 10px; margin-bottom: 5px;" onclick="expandable('preco','img2',2)">
              <h2>Preços e Horários</h2>
              <h2 style="right: 7px">
                <img src="setaBranca.ico"/>
              </h2>
            </span>
            <span class="expandText preco img2">
              <b>Preços:</b> R$ 30,00 por sessão. <br>
              <b>Horários:</b> Quartas das 20h à 23h. <br>
              <b>Vagas:</b> 4/4. <br>
              <b>Sessões:</b> 4 sessões.
            </span>
            <a class="botaoForm preco" href="https://docs.google.com/forms/d/e/1FAIpQLSfK7qRR85fZj6aOFeUXRbs5gdtbKXpevD-DdVt-QNn6uzwuWw/viewform?usp=dialog">Quero Jogar!</a>
          </div>
        </div>
        <img
          src="img5.png"
          alt="vampiro cyberpunk"
          aria-label="vampiro cyberpunk"
        />
      </div>
    </div>
    <div id="rodape">
      <span class="pulse" aria-label="selecione seu mundo">
        SELECIONE SEU MUNDO!
      </span>
    </div>
  </body>
</html>

<script>
  var arrayVisibility = [false, false, false]

  function pararAnimarEdesaparecer() {
    const el = document.querySelector("#rodape");

    // Remove a classe de animação pulse
    try {
      // Define a transição de opacidade
      el.style.transition = "opacity 1s ease";
      el.style.opacity = "0";

      // Quando a transição termina, remove o elemento
      el.addEventListener("transitionend", () => {
        try {
          el.remove();
        } catch (error) {}
      });
    } catch (error) {}
  }

  function expandable(param,img,index) {
    if (arrayVisibility[index]) {
      menus = ['descricao', 'sistema', 'preco']
      menus.forEach(el => {
        if (el == param) {
          document.querySelector('.'+el+'.'+img).style.display == 'block' ? document.querySelector('.'+el+'.'+img).style.display = 'none' : document.querySelector('.'+el+'.'+img).style. display = 'block';

          if (innerWidth <= 768) {
            document.querySelector('.'+el+'.'+img).previousElementSibling.querySelector('img').style.transform != 'translate(-50%, -50%) rotate(180deg)' ? document.querySelector('.'+el  +'.'+img).previousElementSibling.querySelector('img').style.transform = 'translate(-50%, -50%) rotate(180deg)' : document.querySelector('.'+el+'.'+img).  previousElementSibling.querySelector('img').style.transform = 'translate(-50%, -50%) rotate(0deg)';
          }else{
            document.querySelector('.'+el+'.'+img).previousElementSibling.querySelector('img').style.transform != 'rotate(180deg)' ? document.querySelector('.'+el+'.'+img).  previousElementSibling.querySelector('img').style.transform = 'rotate(180deg)' : document.querySelector('.'+el+'.'+img).previousElementSibling.querySelector('img').style.  transform = 'rotate(0deg)';
          }
        } else {
          document.querySelector('.'+el+'.'+img).style.display = 'none';
          if (innerWidth <= 768) {
            document.querySelector('.'+el+'.'+img).previousElementSibling.querySelector('img').style.transform = 'translate(-50%, -50%) rotate(0deg)';
          }else{
            document.querySelector('.'+el+'.'+img).previousElementSibling.querySelector('img').style.transform = 'rotate(0deg)';
          }
        }
      });
    }    
  }

  document.addEventListener("mouseover", (e) => {
    if (innerWidth <= 768) {
      //celular
      for (let i = 0; i < 3; i++) {
        if (e.target.id == "img" + i || e.target.closest("#img" + i) != null) {
          //aumenta o quadrado
          document.querySelector("#img" + i).closest('.galeryLink').querySelector('[src="imgIco.ico"]').style.opacity = "0.75";
          setTimeout(() => { arrayVisibility[i]=true; }, 500);
          document.querySelector("#img" + i).parentElement.style.height = "70%";
          document.querySelector("#img" + i).style.opacity = "0.75";
          setTimeout(() => {
            document.querySelector("#img" + i).parentElement.lastElementChild.style.height = "100%";
            document.querySelector("#img" + i).parentElement.lastElementChild.style.width = "auto";
          }, 100);
          if (e.target.id == "img0" || e.target.closest("#img0") != null) {
            //diminui o logo se clicar na primeira imagem
            document.querySelector('[alt="logo"]').style.width = "100px";
            document.querySelector('[alt="logo"]').style.marginTop = "14px";
            document.querySelector("#logo").style.height = "65px";
          }
        } else if (
          e.target.id.includes("img") ||
          e.target.closest("[id*='img']") != null
        ) {
          //diminui os não clicados
          document.querySelector("#img" + i).closest('.galeryLink').querySelector('[src="imgIco.ico"]').style.opacity = "0";
          arrayVisibility[i]=false;
          document.querySelector("#img" + i).parentElement.style.height = "25%";
          document.querySelector("#img" + i).style.opacity = "0";
          document.querySelector("#img" + i).parentElement.lastElementChild.style = "";
          if (e.target.id != "img0" && e.target.closest("#img0") == null) {
            //aumenta o logo se não clicar na primeira imagem
            document.querySelector('[alt="logo"]').style = "";
            document.querySelector("#logo").style = "";
          }
          pararAnimarEdesaparecer();
        }
      }
    } else {
      //desktop
      for (let i = 0; i < 3; i++) {
        if (e.target.id == "img" + i) {
          document.querySelector("#img" + i).closest('.galeryLink').querySelector('[src="imgIco.ico"]').style.opacity = "0.75";
          setTimeout(() => { arrayVisibility[i]=true; }, 500);
          document.querySelector("#img" + i).parentElement.style.width = "50%";
          document.querySelector("#img" + i).style.opacity = "0.75";
        } else if (e.target.id.includes("img")) {
          document.querySelector("#img" + i).closest('.galeryLink').querySelector('[src="imgIco.ico"]').style.opacity = "0";
          arrayVisibility[i]=false;
          document.querySelector("#img" + i).parentElement.style.width = "25%";
          document.querySelector("#img" + i).style.opacity = "0";
          pararAnimarEdesaparecer();
        }
      }
    }
  });

  document.addEventListener('mousedown', (ev) => {
    try {
      if (ev.target.src.includes('imgIco')) {
        ev.target.nextElementSibling.style.opacity = '0';
      }
    } catch (error) { }
  });

  document.addEventListener('mouseup', (ev) => {
    try {
      if (ev.target.src.includes('imgIco')) {
        ev.target.nextElementSibling.style.opacity = '0.75';
      }
    } catch (error) { }
  });

  document.addEventListener('touchstart', (ev) => {
    try {
      if (ev.target.src.includes('imgIco')) {
        ev.preventDefault();
        ev.target.nextElementSibling.style.opacity = '0';
      }
    } catch (error) { }
  },{ passive: false });
  document.addEventListener('touchend', (ev) => {
    try {
      if (ev.target.src.includes('imgIco')) {
        ev.target.nextElementSibling.style.opacity = '0.75';
      }
    } catch (error) { }
  });
</script>
